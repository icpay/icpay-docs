export const metadata = {
  title: 'Contacts',
  description:
    'Learn how to work with contacts in the icpay API. Contacts represent the people you communicate with in icpay.',
}

# Contacts

Contacts are the people you communicate with in icpay. They represent your connections, whether they're friends, family, colleagues, or business partners. On this page, we'll explore the contact endpoints and learn how to manage your contact list programmatically. {{ className: 'lead' }}

## List contacts

The first endpoint we'll look at is the one that allows you to get a list of all your contacts. This endpoint supports pagination, so you can get all your contacts in manageable chunks.

<CodeGroup tag="GET" label="/v1/contacts">

```bash {{ title: 'cURL' }}
curl -G https://api.icpay.chat/v1/contacts \
  -H "Authorization: Bearer {token}" \
  -d limit=10
```

```js
import ApiClient from '@example/icpay-api'

const client = new ApiClient(token)
const contacts = await client.contacts.list({ limit: 10 })
```

```python
from icpay_api import ApiClient

client = ApiClient(token)
contacts = client.contacts.list(limit=10)
```

```php
$client = new \Icpay\ApiClient($token);
$contacts = $client->contacts->list(['limit' => 10]);
```

</CodeGroup>

The response will include an array of contact objects, each containing information about the contact, such as their name, username, and avatar.

```json
{
  "contacts": [
    {
      "id": "WAz8eIbvDR60rouK",
      "username": "frank_mccallister",
      "first_name": "Frank",
      "last_name": "McCallister",
      "email": "frank@example.com",
      "phone_number": "+1-555-0123",
      "avatar_url": "https://assets.icpay.chat/avatars/frank.jpg",
      "status": "online",
      "created_at": "2023-01-01T12:00:00Z"
    }
  ],
  "pagination": {
    "next_cursor": "next_page_token",
    "has_more": true
  }
}
```

## Create a contact

This endpoint allows you to add a new contact to your contact list.

<CodeGroup tag="POST" label="/v1/contacts">

```bash {{ title: 'cURL' }}
curl https://api.icpay.chat/v1/contacts \
  -H "Authorization: Bearer {token}" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "frank_mccallister",
    "first_name": "Frank",
    "last_name": "McCallister",
    "email": "frank@example.com",
    "phone_number": "+1-555-0123",
    "avatar_url": "https://assets.icpay.chat/avatars/frank.jpg"
  }'
```

```js
import ApiClient from '@example/icpay-api'

const client = new ApiClient(token)
const contact = await client.contacts.create({
  username: 'frank_mccallister',
  first_name: 'Frank',
  last_name: 'McCallister',
  email: 'frank@example.com',
  phone_number: '+1-555-0123',
  avatar_url: 'https://assets.icpay.chat/avatars/frank.jpg'
})
```

```python
from icpay_api import ApiClient

client = ApiClient(token)
contact = client.contacts.create(
    username='frank_mccallister',
    first_name='Frank',
    last_name='McCallister',
    email='frank@example.com',
    phone_number='+1-555-0123',
    avatar_url='https://assets.icpay.chat/avatars/frank.jpg'
)
```

```php
$client = new \Icpay\ApiClient($token);
$contact = $client->contacts->create([
    'username' => 'frank_mccallister',
    'first_name' => 'Frank',
    'last_name' => 'McCallister',
    'email' => 'frank@example.com',
    'phone_number' => '+1-555-0123',
    'avatar_url' => 'https://assets.icpay.chat/avatars/frank.jpg'
]);
```

</CodeGroup>

The response will include the newly created contact object with all its details.

```json
{
  "id": "WAz8eIbvDR60rouK",
  "username": "frank_mccallister",
  "first_name": "Frank",
  "last_name": "McCallister",
  "email": "frank@example.com",
  "phone_number": "+1-555-0123",
  "avatar_url": "https://assets.icpay.chat/avatars/frank.jpg",
  "created_at": "2023-01-01T12:00:00Z"
}
```

## Get a specific contact

To get information about a specific contact, you can use the GET endpoint with the contact ID.

<CodeGroup tag="GET" label="/v1/contacts/{id}">

```bash {{ title: 'cURL' }}
curl https://api.icpay.chat/v1/contacts/WAz8eIbvDR60rouK \
  -H "Authorization: Bearer {token}"
```

```js
import ApiClient from '@example/icpay-api'

const client = new ApiClient(token)
const contact = await client.contacts.get('WAz8eIbvDR60rouK')
```

```python
from icpay_api import ApiClient

client = ApiClient(token)
contact = client.contacts.get('WAz8eIbvDR60rouK')
```

```php
$client = new \Icpay\ApiClient($token);
$contact = $client->contacts->get('WAz8eIbvDR60rouK');
```

</CodeGroup>

The response will include the contact object with all its details.

```json
{
  "id": "WAz8eIbvDR60rouK",
  "username": "frank_mccallister",
  "first_name": "Frank",
  "last_name": "McCallister",
  "email": "frank@example.com",
  "phone_number": "+1-555-0123",
  "avatar_url": "https://assets.icpay.chat/avatars/frank.jpg",
  "status": "online",
  "created_at": "2023-01-01T12:00:00Z"
}
```

## Update a contact

You can update certain properties of a contact, such as their name, email, or avatar.

<CodeGroup tag="PUT" label="/v1/contacts/{id}">

```bash {{ title: 'cURL' }}
curl -X PUT https://api.icpay.chat/v1/contacts/WAz8eIbvDR60rouK \
  -H "Authorization: Bearer {token}" \
  -H "Content-Type: application/json" \
  -d '{
    "first_name": "Franklin",
    "email": "franklin@example.com"
  }'
```

```js
import ApiClient from '@example/icpay-api'

const client = new ApiClient(token)
const contact = await client.contacts.update('WAz8eIbvDR60rouK', {
  first_name: 'Franklin',
  email: 'franklin@example.com'
})
```

```python
from icpay_api import ApiClient

client = ApiClient(token)
contact = client.contacts.update('WAz8eIbvDR60rouK', {
    'first_name': 'Franklin',
    'email': 'franklin@example.com'
})
```

```php
$client = new \Icpay\ApiClient($token);
$contact = $client->contacts->update('WAz8eIbvDR60rouK', [
    'first_name' => 'Franklin',
    'email' => 'franklin@example.com'
]);
```

</CodeGroup>

The response will include the updated contact object.

```json
{
  "id": "WAz8eIbvDR60rouK",
  "username": "frank_mccallister",
  "first_name": "Franklin",
  "last_name": "McCallister",
  "email": "franklin@example.com",
  "phone_number": "+1-555-0123",
  "avatar_url": "https://assets.icpay.chat/avatars/frank.jpg",
  "status": "online",
  "created_at": "2023-01-01T12:00:00Z",
  "updated_at": "2023-01-01T13:00:00Z"
}
```

## Delete a contact

To remove a contact from your contact list, you can use the DELETE endpoint.

<CodeGroup tag="DELETE" label="/v1/contacts/{id}">

```bash {{ title: 'cURL' }}
curl -X DELETE https://api.icpay.chat/v1/contacts/WAz8eIbvDR60rouK \
  -H "Authorization: Bearer {token}"
```

```js
import ApiClient from '@example/icpay-api'

const client = new ApiClient(token)
await client.contacts.delete('WAz8eIbvDR60rouK')
```

```python
from icpay_api import ApiClient

client = ApiClient(token)
client.contacts.delete('WAz8eIbvDR60rouK')
```

```php
$client = new \Icpay\ApiClient($token);
$client->contacts->delete('WAz8eIbvDR60rouK');
```

</CodeGroup>

The DELETE endpoint will return a 204 No Content response if the contact was successfully deleted.

## Contact management

### Contact status

Contacts can have different statuses:

- **Online**: Currently active and available
- **Offline**: Not currently active
- **Away**: Temporarily unavailable
- **Busy**: Currently busy and shouldn't be disturbed

### Contact groups

You can organize contacts into groups for easier management:

```json
{
  "groups": [
    {
      "id": "group_123",
      "name": "Family",
      "contact_count": 5
    },
    {
      "id": "group_456",
      "name": "Work",
      "contact_count": 12
    }
  ]
}
```

### Contact search

You can search for contacts using various criteria:

```bash
curl -G https://api.icpay.chat/v1/contacts \
  -H "Authorization: Bearer {token}" \
  -d q="frank" \
  -d limit=10
```

## Best practices

- Use pagination when listing contacts to avoid overwhelming responses
- Implement contact search functionality for better user experience
- Handle contact status changes gracefully in your application
- Implement proper error handling for contact operations
- Consider implementing contact import/export functionality
- Regularly sync contact information to keep it up to date

<div className="not-prose">
  <Button href="/quickstart" variant="text" arrow="right">
    <>Get started with the icpay API</>
  </Button>
</div>
